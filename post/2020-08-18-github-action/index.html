<!doctype html><html class=no-js lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><title>Risu GitHub Action - RISU</title><script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="Risu GitHub Action"><meta property="og:description" content="GitHub Actions Github has recently included the ability to define &lsquo;actions&rsquo; or &lsquo;workflows&rsquo; to execute on the repositories.
The pros:
It&rsquo;s defined in a yaml inside the repository Allows defining secrets via the web UI for tokens, etc Extensive marketplace of actions and easily extensible Risu and GHA We&rsquo;ve moved some of the CI in the repository from Travis to GHA to take advantage of this approach so now (check ."><meta property="og:type" content="article"><meta property="og:url" content="https://risuorg.github.io/post/2020-08-18-github-action/"><meta property="article:section" content="post"><meta property="article:published_time" content="2020-08-18T07:50:38+02:00"><meta property="article:modified_time" content="2020-08-18T07:50:38+02:00"><meta itemprop=name content="Risu GitHub Action"><meta itemprop=description content="GitHub Actions Github has recently included the ability to define &lsquo;actions&rsquo; or &lsquo;workflows&rsquo; to execute on the repositories.
The pros:
It&rsquo;s defined in a yaml inside the repository Allows defining secrets via the web UI for tokens, etc Extensive marketplace of actions and easily extensible Risu and GHA We&rsquo;ve moved some of the CI in the repository from Travis to GHA to take advantage of this approach so now (check ."><meta itemprop=datePublished content="2020-08-18T07:50:38+02:00"><meta itemprop=dateModified content="2020-08-18T07:50:38+02:00"><meta itemprop=wordCount content="325"><meta itemprop=keywords content="Risu,magui,github,"><meta name=twitter:card content="summary"><meta name=twitter:title content="Risu GitHub Action"><meta name=twitter:description content="GitHub Actions Github has recently included the ability to define &lsquo;actions&rsquo; or &lsquo;workflows&rsquo; to execute on the repositories.
The pros:
It&rsquo;s defined in a yaml inside the repository Allows defining secrets via the web UI for tokens, etc Extensive marketplace of actions and easily extensible Risu and GHA We&rsquo;ve moved some of the CI in the repository from Travis to GHA to take advantage of this approach so now (check ."><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//fonts.gstatic.com><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700"><link crossorigin=anonymous href=/assets/css/core.min.8ba71cf50a8381d9d94ef0bb5c7367004d6fe1de98371c5720571e9e48a03a3d.css integrity="sha256-i6cc9QqDgdnZTvC7XHNnAE1v4d6YNxxXIFcenkigOj0=" rel="preload stylesheet" as=style><link rel="shortcut icon" href=/favicon.ico><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-81705-14","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class="logo logo--mixed"><a class=logo__link href=/ title=RISU rel=home><div class="logo__item logo__imagebox"><img class=logo__img src=/images/risu.png></div><div class="logo__item logo__text"><div class=logo__title>RISU</div><div class=logo__tagline>Find and Report Issues</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/about/><span class=menu__text>About</span></a></li><li class=menu__item><a class=menu__link href=/contributing/><span class=menu__text>Contributing</span></a></li><li class=menu__item><a class=menu__link href=/readme.magui/><span class=menu__text>Magui</span></a></li><li class=menu__item><a class=menu__link href=/readme.risu/><span class=menu__text>Risu</span></a></li><li class=menu__item><a class=menu__link href=/changelog/><span class=menu__text>Timeline</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>Risu GitHub Action</h1><div class="post__meta meta"><div class="meta__item-author meta__item"><svg class="meta__icon icon icon-author" width="16" height="16" viewBox="0 0 12 16"><path d="M6 1c2.2.0 3.5 2 3.5 4.5C9.5 7 8.9 8.2 8 9c2.9.8 4 2.5 4 5v1H0v-1c0-2.5 1.1-4.2 4-5-.9-.8-1.5-2-1.5-3.5C2.5 3 3.8 1 6 1z"/></svg><span class=meta__text>RISU team</span></div><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2020-08-18T07:50:38+02:00>2020-08-18</time></div></div></header><div class="post__toc toc"><div class=toc__title>Page content</div><div class=toc__menu><nav id=TableOfContents><ul><li><a href=#github-actions>GitHub Actions</a></li><li><a href=#risu-and-gha>Risu and GHA</a><ul><li><a href=#the-path-to-risu-github-action>The path to Risu Github Action</a></li></ul></li></ul></nav></div></div><div class="content post__content clearfix"><h2 id=github-actions>GitHub Actions</h2><p>Github has recently included the ability to define &lsquo;actions&rsquo; or &lsquo;workflows&rsquo; to execute on the repositories.</p><p>The pros:</p><ul><li>It&rsquo;s defined in a yaml inside the repository</li><li>Allows defining secrets via the web UI for tokens, etc</li><li>Extensive marketplace of actions and easily extensible</li></ul><h2 id=risu-and-gha>Risu and GHA</h2><p>We&rsquo;ve moved some of the CI in the repository from Travis to GHA to take advantage of this approach so now (check <code>.github/</code> folder):</p><ul><li>Package version upload (when a new release is created, package is uploaded to <code>pypi</code>)</li><li>Tagging of relevant versions (when <code>X.Y.Z</code> is released, new tags are added for <code>X.Y</code> and <code>X</code> pointing to the same files)</li><li>Python unit testing</li><li><code>pre-commit</code> validation</li><li>Broken link checker for documents</li><li>Labeling of issues</li><li>Closing old issues/PR&rsquo;s when not updated</li><li>Generation of website for <a href=https://Risuorg.github.io>https://Risuorg.github.io</a></li><li>Managing of dependencies for actions, packages</li><li>etc</li></ul><h3 id=the-path-to-risu-github-action>The path to Risu Github Action</h3><p>With the recent changes in Risu <a href=https://risuorg.github.io/tags/whatsnew/>What&rsquo;s new</a> like the extra plugin tree and configuration path, we were already on the path to get more Risu automation&mldr;.</p><p><a href=https://github.com/Risuorg/gh-action-Risu>https://github.com/Risuorg/gh-action-Risu</a> has been created for that purpose.</p><p>It defines via the <code>action.yml</code> the steps to setup Risu and via the <code>entrypoint.sh</code> install dependencies, sets up permissions and then runs Risu against the defined folder to store the output and serve the report via GitHub pages web server.</p><p>You can check one repository using it at <a href=https://github.com/iranzo/ipival/>https://github.com/iranzo/ipival/</a> and see the html output at <a href=https://iranzo.github.io/ipival/>https://iranzo.github.io/ipival/</a>.</p><p>As it&rsquo;s always easier to learn by an example, check those files:</p><ul><li><code>.risu.conf</code> at <a href=https://github.com/iranzo/ipival/blob/master/.risu.conf>https://github.com/iranzo/ipival/blob/master/.risu.conf</a> which defines the <code>web</code> output, <code>excludes</code> to rule out all the <code>Risuclient</code> plugins, defines <code>title</code> for the report and defines an <code>extraplugintree</code> in the subfolder of this repository.</li><li><code>.github/workflows/risu.yml</code> at <a href=https://github.com/iranzo/ipival/blob/master/.github/workflows/Risu.yml>https://github.com/iranzo/ipival/blob/master/.github/workflows/Risu.yml</a> which defines to run the action on each push to master branch, and also via daily cron execution, defining the following properties for the script (that will be used by the prior commented <code>entrypoint.sh</code>):</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span>- <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>Risuorg/gh-action-Risu@1.0</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>env</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>GITHUB_TOKEN</span>: <span style=color:#ae81ff>${{secrets.GITHUB_TOKEN}}</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>SOSREPORT</span>: <span style=color:#ae81ff>test</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>CONFIGPATH</span>: <span style=color:#e6db74>&#34;./&#34;</span>
</span></span></code></pre></div><p>Enjoy!</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/risu/ rel=tag>Risu</a></li><li class=tags__item><a class="tags__link btn" href=/tags/magui/ rel=tag>magui</a></li><li class=tags__item><a class="tags__link btn" href=/tags/github/ rel=tag>github</a></li></ul></div></footer></article></main><div class="authorbox clearfix"><figure class=authorbox__avatar><img alt="RISU team avatar" src=/images/risu.png class=avatar height=90 width=90></figure><div class=authorbox__header><span class=authorbox__name>About RISU team</span></div><div class=authorbox__description>Risu team works on getting an easy to extend framework for reporting issues at your systems</div></div><nav class="pager flex"><div class="pager__item pager__item--prev"><a class=pager__link href=/post/2020-06-11-3year-anniversary/ rel=prev><span class=pager__subtitle>«&#8201;Previous</span><p class=pager__title>Risu: 3 year anniversary</p></a></div></nav></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2023 RISUorg team.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script>
<script src=/js/custom.js></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async></script></body></html>