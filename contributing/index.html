<!doctype html><html class=no-js lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><title>Contributing - RISU</title><script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="Contributing"><meta property="og:description" content="How to file a bug report If you have any suggestions for improvements please do not hesitate to open an issue.
How to contribute code We encourage you to contribute new plugins. We use gerrithub for reviewing proposed changes. The submission process looking something like this:
Clone the Risu repository:
git clone https://github.com/Risuorg/Risu.git Configure the git-review tool:
git-review -s Check out a branch in which to make your changes:
git checkout -b &#34;your-new-branch&#34; Edit your files and validate with tox:"><meta property="og:type" content="article"><meta property="og:url" content="https://risuorg.github.io/contributing/"><meta property="article:section" content><meta property="article:published_time" content="2016-06-02T17:27:47+02:00"><meta property="article:modified_time" content="2016-06-02T17:27:47+02:00"><meta itemprop=name content="Contributing"><meta itemprop=description content="How to file a bug report If you have any suggestions for improvements please do not hesitate to open an issue.
How to contribute code We encourage you to contribute new plugins. We use gerrithub for reviewing proposed changes. The submission process looking something like this:
Clone the Risu repository:
git clone https://github.com/Risuorg/Risu.git Configure the git-review tool:
git-review -s Check out a branch in which to make your changes:
git checkout -b &#34;your-new-branch&#34; Edit your files and validate with tox:"><meta itemprop=datePublished content="2016-06-02T17:27:47+02:00"><meta itemprop=dateModified content="2016-06-02T17:27:47+02:00"><meta itemprop=wordCount content="476"><meta itemprop=keywords content="Risu,contribute,"><meta name=twitter:card content="summary"><meta name=twitter:title content="Contributing"><meta name=twitter:description content="How to file a bug report If you have any suggestions for improvements please do not hesitate to open an issue.
How to contribute code We encourage you to contribute new plugins. We use gerrithub for reviewing proposed changes. The submission process looking something like this:
Clone the Risu repository:
git clone https://github.com/Risuorg/Risu.git Configure the git-review tool:
git-review -s Check out a branch in which to make your changes:
git checkout -b &#34;your-new-branch&#34; Edit your files and validate with tox:"><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//fonts.gstatic.com><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700"><link crossorigin=anonymous href=/assets/css/core.min.8ba71cf50a8381d9d94ef0bb5c7367004d6fe1de98371c5720571e9e48a03a3d.css integrity="sha256-i6cc9QqDgdnZTvC7XHNnAE1v4d6YNxxXIFcenkigOj0=" rel="preload stylesheet" as=style><link rel="shortcut icon" href=/favicon.ico><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-81705-14","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class="logo logo--mixed"><a class=logo__link href=/ title=RISU rel=home><div class="logo__item logo__imagebox"><img class=logo__img src=/images/risu.png></div><div class="logo__item logo__text"><div class=logo__title>RISU</div><div class=logo__tagline>Find and Report Issues</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/about/><span class=menu__text>About</span></a></li><li class="menu__item menu__item--active"><a class=menu__link href=/contributing/><span class=menu__text>Contributing</span></a></li><li class=menu__item><a class=menu__link href=/readme.magui/><span class=menu__text>Magui</span></a></li><li class=menu__item><a class=menu__link href=/readme.risu/><span class=menu__text>Risu</span></a></li><li class=menu__item><a class=menu__link href=/changelog/><span class=menu__text>Timeline</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>Contributing</h1><div class="post__meta meta"><div class="meta__item-author meta__item"><svg class="meta__icon icon icon-author" width="16" height="16" viewBox="0 0 12 16"><path d="M6 1c2.2.0 3.5 2 3.5 4.5C9.5 7 8.9 8.2 8 9c2.9.8 4 2.5 4 5v1H0v-1c0-2.5 1.1-4.2 4-5-.9-.8-1.5-2-1.5-3.5C2.5 3 3.8 1 6 1z"/></svg><span class=meta__text>RISU team</span></div><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2016-06-02T17:27:47+02:00>2016-06-02</time></div></div></header><div class="content post__content clearfix"><h1 id=how-to-file-a-bug-report>How to file a bug report</h1><p>If you have any suggestions for improvements please do not hesitate to
open an <a href=https://github.com/Risuorg/Risu/issues/new>issue</a>.</p><h1 id=how-to-contribute-code>How to contribute code</h1><p>We encourage you to contribute new plugins. We use <a href=https://gerrithub.io/>gerrithub</a> for
reviewing proposed changes. The submission process looking something
like this:</p><ol><li><p>Clone the Risu repository:</p><pre><code>git clone https://github.com/Risuorg/Risu.git
</code></pre></li><li><p>Configure the <code>git-review</code> tool:</p><pre><code>git-review -s
</code></pre></li><li><p>Check out a branch in which to make your changes:</p><pre><code>git checkout -b &quot;your-new-branch&quot;
</code></pre></li><li><p>Edit your files and validate with tox:</p><pre><code>tox # this will check the changes for some errors
</code></pre><ol><li><p>NOTE: tox will run python 2.7, pep8 and python 3.5 tests, if your environment lacks for example python 3.5, do execute tox -l to see the available tests and skip that one, for example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>tox -e pep8
</span></span><span style=display:flex><span>tox -e py27
</span></span><span style=display:flex><span><span style=color:#75715e># We&#39;re skipping tox -e py35 which is also invoked by default when tox is executed without arguments.</span>
</span></span></code></pre></div></li><li><p>In this way, errors that might be relevant to the test environment can be skipped. For example this one reported at issue tracker as <a href=https://github.com/Risuorg/Risu/issues/104>104</a>)</p></li></ol></li><li><p>Update your local repository:</p><pre><code>git add $modified_files
git commit

For the message, please use a short line with the fix and the subject like `[plugins][openstack][nova] Check nova configuration XXX`

If the commit fixes a github open issue, also use `Closes #$ISSUEID` so github automatically closes it once merged referencing the commit.
</code></pre></li><li><p>Submit your changes for review:</p><pre><code>git-review
</code></pre></li></ol><p>Then wait for your changes to be reviewed. It is common for reviewers
to request changes; when this happens:</p><ol><li><p>Edit your files and revalidate with tox:</p><pre><code>tox # this will check the new changes for some errors
</code></pre></li><li><p>Update your existing commit. Do not create a new commit!</p><pre><code>git add $modified_files
git commit --amend
</code></pre></li><li><p>Resubmit the change:</p><pre><code>git-review
</code></pre></li></ol><p>You can see pending and already merged actual changes at: <a href=https://review.gerrithub.io/#/q/project:Risuorg//Risu>https://review.gerrithub.io/#/q/project:Risuorg//Risu</a></p><ol start=4><li><p>Once the new plugin has been submitted you&rsquo;ll see some comments from &lsquo;Risu Jenkins&rsquo; which is running Unit tests against it (same ones that you run with <code>tox</code>)</p></li><li><p>If Jenkins gives &lsquo;Verified +1&rsquo;, next step is wait for one reviewer to give final ACK and merge the change.</p></li></ol><h1 id=how-to-write-tests>How to write tests</h1><p>Please refer to the
<a href=https://github.com/Risuorg/Risu/tree/master/doc/templates>templates</a>
folder for examples.</p><p>If you want to contribute also Unittests for your plugins, check <a href=TESTING.md>TESTING.md</a></p><p>For contributing translations check <a href=doc/i18n.md>i18n.md</a></p><h1 id=how-to-debug-your-test>How to debug your test</h1><p>We&rsquo;ve included a file named <code>env-for.debug.sh</code> in the root folder of Risu repo that allows to be sourced and later execute your script.</p><p>This environment file will define the standard variables Risu does use like:</p><ul><li>RC_OKAY</li><li>RC_FAILED</li><li>RC_SKIPPED</li><li>TEXTDOMAIN</li><li>TEXTOMAINDIR</li><li>CITELLUS_BASE</li><li>CITELLUS_LIVE</li><li>CITELLUS_ROOT</li></ul><p>And will preload the common-functions</p><p>The way to use it is:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>. ~/Risu/env-for-debug.sh
</span></span></code></pre></div><p>Then you can debug your script with:</p><pre tabindex=0><code>sh -x /path/to/your/plugin.sh
</code></pre><p>Or test individual functions output like:</p><pre tabindex=0><code>is_rpm qemu-kvm-rhev
</code></pre><p>Please, do note that as some functions do &rsquo;exit&rsquo; or &lsquo;return&rsquo; for example executing <code>is_rpm_over</code> will exit the active shell, so beware!!</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/risu/ rel=tag>Risu</a></li><li class=tags__item><a class="tags__link btn" href=/tags/contribute/ rel=tag>contribute</a></li></ul></div></footer></article></main><div class="authorbox clearfix"><figure class=authorbox__avatar><img alt="RISU team avatar" src=/images/risu.png class=avatar height=90 width=90></figure><div class=authorbox__header><span class=authorbox__name>About RISU team</span></div><div class=authorbox__description>Risu team works on getting an easy to extend framework for reporting issues at your systems</div></div><nav class="pager flex"><div class="pager__item pager__item--prev"><a class=pager__link href=/readme.magui/ rel=prev><span class=pager__subtitle>«&#8201;Previous</span><p class=pager__title>Magui</p></a></div><div class="pager__item pager__item--next"><a class=pager__link href=/about/ rel=next><span class=pager__subtitle>Next&#8201;»</span><p class=pager__title>About</p></a></div></nav></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2023 RISUorg team.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script>
<script src=/js/custom.js></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async></script></body></html>